[{"/home/michael/code/myf0t0/myf0t0/src/index.js":"1","/home/michael/code/myf0t0/myf0t0/src/App.js":"2"},{"size":794,"mtime":1612496304127,"results":"3","hashOfConfig":"4"},{"size":8274,"mtime":1612497243579,"results":"5","hashOfConfig":"4"},{"filePath":"6","messages":"7","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"8","usedDeprecatedRules":"9"},"12rpndu",{"filePath":"10","messages":"11","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"12"},"/home/michael/code/myf0t0/myf0t0/src/index.js",["13"],"import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App.js'\n\nimport Amplify, { Auth } from 'aws-amplify';\n\nAmplify.configure({\n  Auth: {\n    region: 'us-east-2',\n    userPoolId: 'us-east-2_oQdtzjMQ1',\n    userPoolWebClientId: '55i8vm5ina7g9v1j86cpmp6gjv',\n    mandatorySignIn: true,\n    oauth: {\n              domain: 'myf0t0-teststack2',\n              scope: ['phone', 'email', 'profile', 'openid', 'aws.cognito.signin.user.admin'],\n              redirectSignIn: 'http://localhost:3000/',\n              redirectSignOut: 'http://localhost:3000/',\n              responseType: 'code' // or 'token', note that REFRESH token will only be generated when the responseType is code\n          }\n    }\n  }\n);\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n",["14","15"],"/home/michael/code/myf0t0/myf0t0/src/App.js",["16","17","18","19","20","21"],"import React from 'react';\nimport ReactDOM from 'react-dom'\nimport './index.css';\nimport Modal from 'react-bootstrap/Modal'\nimport Button from 'react-bootstrap/Button'\n\nimport { withAuthenticator, AmplifySignOut } from '@aws-amplify/ui-react';\n\nclass Header extends React.Component {\n  constructor(props){\n    super(props);\n\n    this.handleNavClick = this.handleNavClick.bind(this)\n  }\n\n  handleNavClick(view){\n    this.props.navHandler(view);\n  }\n\n  render() {\n    return (<div className=\"header\">\n      <NavButton view=\"Photos\" navClickHandler={this.handleNavClick} />\n      <NavButton view=\"Galleries\" navClickHandler={this.handleNavClick} />\n      <NavButton view=\"Settings\" navClickHandler={this.handleNavClick} />\n      <AmplifySignOut />\n    </div>);\n  }\n}\n\nclass NavButton extends React.Component {\n  constructor(props){\n    super(props);\n\n    this.handleNav = this.handleNav.bind(this);\n  }\n\n  handleNav(e){\n    this.props.navClickHandler(this.props.view)\n  }\n\n  render() {\n    return (\n      <span onClick={this.handleNav}> {this.props.view} </span>\n    )\n  }\n}\n\nclass Content extends React.Component {\n  constructor(props){\n    super(props);\n  }\n\n  render(){\n    return (\n      <div className=\"content\">\n        {this.props.view === \"Photos\" && <PhotoFlow />}\n        {this.props.view === \"Galleries\" && <Galleries />}\n        {this.props.view === \"Settings\" && <Settings />}\n      </div>\n  )\n  }\n}\n\nclass PhotoDetailModal extends React.Component{\n  constructor(props){\n    super(props);\n  }\n\n  render(){\n    console.log(this.props)\n    var photoName = \"\"\n    if (\"SK\" in this.props.photo){\n      photoName = this.props.photo.SK.split(\"_\")[1];\n    }\n\n    return (\n      <Modal\n      {...this.props}\n      //size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      dialogClassName=\"photo-modal\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">\n          {photoName}\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <img className=\"focus-photo\" src={this.props.photo.GSI1SK} alt=\"\" />\n      </Modal.Body>\n      <Modal.Footer>\n        <Button onClick={this.props.onHide}>Close</Button>\n      </Modal.Footer>\n    </Modal>\n  );\n  }\n}\nclass PhotoFlow extends React.Component {\n  constructor(props){\n    super(props);\n    this.handleFilterUpdate = this.handleFilterUpdate.bind(this)\n    this.handlePhotoFocus = this.handlePhotoFocus.bind(this)\n    this.closePhotoFocus = this.closePhotoFocus.bind(this)\n    this.getThumbnails = this.getThumbnails.bind(this)\n    this.state = {photos:{}, focusPhoto:{}, focusModalVisible:false}\n  }\n\n  handleFilterUpdate(filter_params){\n    //console.log(filter_params);\n\n    this.getThumbnails(filter_params)\n  }\n\n  handlePhotoFocus(photo){\n    this.setState({focusPhoto: photo, focusModalVisible: true});\n  }\n\n  closePhotoFocus(){\n    this.setState({focusModalVisible: false});\n  }\n\n  componentDidMount(){\n    this.getThumbnails({});\n  }\n\n  async getThumbnails(params){\n    var searchParams = new URLSearchParams();\n    for (const [key, value] of Object.entries(params)){\n      //console.log(key)\n      if ( value ){\n        //console.log(value)\n        searchParams.append(key, value)\n      }\n    }\n    console.log(searchParams.toString());\n\n    var url = process.env.REACT_APP_API_ENDPOINT + \"/photo?\" + searchParams.toString();\n    fetch(url, {\n      method: 'GET',\n      mode: 'cors'\n    })\n    .then(res => res.json())\n    .then(\n      (result) => {\n        console.log(result);\n        this.setState({photos: result})\n      },\n      (error) => {\n        console.error(\n          \"There has been a problem with your fetch operation:\",\n          error\n        )\n      }\n    )\n  }\n\n  render() {\n    //Assume a sorted list of photos has come back from the API.\n    var photo_groups = []\n    var curr_header = \"\"\n    var groups = 0\n    console.log(this.state.photos);\n    for(var i=0; i<this.state.photos.length; i++){\n      var photo = this.state.photos[i];\n      console.log(photo);\n      if (curr_header !== photo.SK.split(\"T\")[0]){\n        curr_header = photo.SK.split(\"T\")[0]\n        photo_groups.push({header: curr_header, photos: []});\n        groups++;\n      }\n      photo_groups[groups-1]['photos'].push(photo);\n    };\n\n\n    //console.log(photo_groups)\n\n    const listItems = photo_groups.map((photo_data) => (\n        <li key={photo_data.header}><PhotoGroup header={photo_data.header} data={photo_data.photos} photoFocusHandler={this.handlePhotoFocus}/></li>\n    ));\n\n    return (\n       <div>\n       <h1>Photos!</h1>\n        <PhotoFilterPane filterHandler={this.handleFilterUpdate}/>\n        <ul>\n          {listItems}\n        </ul>\n\n          <PhotoDetailModal\n            show={this.state.focusModalVisible}\n            onHide={this.closePhotoFocus}\n            photo={this.state.focusPhoto}\n          />\n\n      </div>\n    )\n  }\n}\n\nclass PhotoGroup extends React.Component{\n  constructor(props){\n    super(props);\n  }\n  render(){\n    const listItems = this.props.data.map((photo) =>\n      <li key={photo.SK}><Thumbnail data={photo} onClickHandler={this.props.photoFocusHandler}/> </li>\n    );\n    return(\n      <div>\n        <span>{this.props.header}</span>\n        <ul className=\"ul_thumbnail\">\n          {listItems}\n        </ul>\n      </div>\n    )\n  }\n}\n\nclass Thumbnail extends React.Component{\n  constructor(props){\n    super(props);\n    this.clickHandler = this.clickHandler.bind(this)\n  }\n\n  clickHandler(){\n    this.props.onClickHandler(this.props.data)\n  }\n\n  render(){\n    return (\n      <img src={this.props.data.thumbnail_key} alt=\"\" onClick={this.clickHandler}/>\n      //<span>Photo Goes Here!</span>\n    )\n  }\n}\n\nclass PhotoFilterPane extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\"pane_open\": false, \"start_date\": \"\", \"end_date\": \"\"}\n    this.togglePane = this.togglePane.bind(this)\n    this.applyFilters = this.applyFilters.bind(this)\n    this.handleValueChanged = this.handleValueChanged.bind(this)\n  }\n\n  togglePane(){\n    this.setState({\n      \"pane_open\": !this.state.pane_open\n    })\n  }\n\n  applyFilters(){\n    let filter_params = this.state;\n    delete filter_params.pane_open\n    this.props.filterHandler(filter_params)\n  }\n\n  handleValueChanged(field, value){\n    console.log(field)\n    console.log(value)\n    this.setState({[field]: value})\n  }\n\n  render(){\n    const isPaneOpen = this.state.pane_open;\n    return (\n      <div>\n        <span>Filters<button onClick={this.togglePane}> {isPaneOpen ? '-' : '+'} </button></span>\n\n        {isPaneOpen &&\n          <div>\n            <table><tbody>\n              <tr>\n                <td> Start Date</td>\n                <td> End Date</td>\n              </tr>\n              <tr>\n                <td> <FilterControl field=\"start_date\" value={this.state.start_date} onValueChange={this.handleValueChanged} /> </td>\n                <td> <FilterControl field=\"end_date\" value={this.state.end_date} onValueChange={this.handleValueChanged} /> </td>\n              </tr>\n            </tbody></table>\n            <button onClick={this.applyFilters}> Apply </button>\n          </div>\n        }\n      </div>\n    )\n  }\n}\n\nclass FilterControl extends React.Component{\n  constructor(props){\n    super(props);\n    this.handleChange = this.handleChange.bind(this)\n  }\n\n  handleChange(e){\n    this.props.onValueChange(this.props.field, e.target.value);\n  }\n\n  render(){\n    return(\n    <input value={this.props.value} onChange={this.handleChange} />\n  )\n  }\n}\n\nclass Galleries extends React.Component {\n  constructor(props){\n    super(props);\n  }\n\n  render() {\n    return <h1>Galleries!</h1>\n  }\n}\n\nclass Settings extends React.Component {\n  constructor(props){\n    super(props);\n  }\n\n  render() {\n    return (<h1>Settings!</h1>)\n  }\n}\n\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {view: \"Photos\"}\n\n    this.viewChangeHandler = this.viewChangeHandler.bind(this);\n  }\n\n  viewChangeHandler(view){\n    this.setState({view})\n  }\n\n  render() {\n    const view = this.state.view;\n    return (\n      <div>\n        <Header navHandler={this.viewChangeHandler} />\n        <Content view={view}/>\n        <div id=\"modal-root\"></div>\n      </div>\n    )\n  }\n}\n\nexport default withAuthenticator(App);\n",{"ruleId":"22","severity":1,"message":"23","line":6,"column":19,"nodeType":"24","messageId":"25","endLine":6,"endColumn":23},{"ruleId":"26","replacedBy":"27"},{"ruleId":"28","replacedBy":"29"},{"ruleId":"22","severity":1,"message":"30","line":2,"column":8,"nodeType":"24","messageId":"25","endLine":2,"endColumn":16},{"ruleId":"31","severity":1,"message":"32","line":49,"column":3,"nodeType":"33","messageId":"34","endLine":51,"endColumn":4},{"ruleId":"31","severity":1,"message":"32","line":65,"column":3,"nodeType":"33","messageId":"34","endLine":67,"endColumn":4},{"ruleId":"31","severity":1,"message":"32","line":202,"column":3,"nodeType":"33","messageId":"34","endLine":204,"endColumn":4},{"ruleId":"31","severity":1,"message":"32","line":309,"column":3,"nodeType":"33","messageId":"34","endLine":311,"endColumn":4},{"ruleId":"31","severity":1,"message":"32","line":319,"column":3,"nodeType":"33","messageId":"34","endLine":321,"endColumn":4},"no-unused-vars","'Auth' is defined but never used.","Identifier","unusedVar","no-native-reassign",["35"],"no-negated-in-lhs",["36"],"'ReactDOM' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","no-global-assign","no-unsafe-negation"]